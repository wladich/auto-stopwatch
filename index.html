<!DOCTYPE html>
<!--
              __         
.---.-.--.--.|  |_.-----.
|  _  |  |  ||   _|  _  |
|___._|_____||____|_____|                         
        __                               __         __    
.-----.|  |_.-----.-----.--.--.--.---.-.|  |_.----.|  |--.
|__ --||   _|  _  |  _  |  |  |  |  _  ||   _|  __||     |
|_____||____|_____|   __|________|___._||____|____||__|__|
                  |__|                                    

Author:  Dave Hulihan
Repo:    https://github.com/dhulihan/auto-stopwatch
-->
<html>
	<head>
		<meta charset="UTF-8">

		<title>dhulihan/auto-stopwatch</title>

		<link href="data:image/x-icon;base64,AAABAAEAEBAQAAAAAAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEqHjABQrKgBafXsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADMzMzMzMwADIiIiIiIiMAIREiERIREwAhIRESEhITADEhIhISEhMAMSEREhISEwAxESIREhESADIiIiIiIiMAAzMzMzMzMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA//8AAP//AADAAwAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAMADAAD//wAA//8AAP//AAD//wAA" rel="icon" type="image/x-icon" />

		<style>
			* {
				margin: 0;
				padding: 0;
			}

			#stopwatch {
				font-family: Menlo, sans-serif;
				font-size: 24vw;
				height: 100%;
				line-height: 100vh;
				text-align: center;
				cursor: pointer;
			}
		</style>
	</head>

	<body>
		<div id="stopwatch" onclick="Stopwatch.toggle()"></div>

		<script>
			var Stopwatch = (function() {
				var s;
				return {
					settings: {
						stop: 0,
						intervalMs: 1000,
					},
					init: function() {
						s = this.settings;
						var start = new Date().getTime(),
							elapsed = '0.0',
							stoppedMs = 0;
						window.setInterval(function()
						{
							if(!s.stop){
							    var msPassed = new Date().getTime() - start;
							    var timedMs = msPassed - stoppedMs;
							    var hours = Math.floor(timedMs / 1000 / 60 / 60);
							    var minutes = Math.floor(timedMs / 1000 / 60) % 60;
								var seconds = Math.floor(timedMs / 1000) % 60;
							    var text = String(hours).padStart(2, '0') + ':' + String(minutes).padStart(2, '0') + ':' + String(seconds).padStart(2, '0');
							    document.getElementById("stopwatch").innerHTML = text;
							    document.title = text;
							} else {
								stoppedMs = stoppedMs + s.intervalMs;
							}
						}, s.intervalMs);
					},
					start: function() {
						s.stop = 0;
					},
					stop: function() {
						s.stop = 1;
					},
					toggle: function() {
						s.stop = 1 - s.stop;
					}
				};
			})();
			Stopwatch.init();
		</script>	
	</body>
</html>
